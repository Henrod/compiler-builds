{"version":3,"sources":["../../../../../modules/@angular/compiler/src/output/output_jit.ts"],"names":[],"mappings":"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","file":"output_jit.js","sourceRoot":"","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {identifierName} from '../compile_metadata';\n\nimport {EmitterVisitorContext} from './abstract_emitter';\nimport {AbstractJsEmitterVisitor} from './abstract_js_emitter';\nimport * as o from './output_ast';\n/**\n * @param {?} sourceUrl\n * @param {?} ctx\n * @param {?} vars\n * @return {?}\n */\nfunction evalExpression(\n    sourceUrl: string, ctx: EmitterVisitorContext, vars: {[key: string]: any}): any {\n  const /** @type {?} */ fnBody =\n      `${ctx.toSource()}\\n//# sourceURL=${sourceUrl}\\n${ctx.toSourceMapGenerator().toJsComment()}`;\n  const /** @type {?} */ fnArgNames: string[] = [];\n  const /** @type {?} */ fnArgValues: any[] = [];\n  for (const /** @type {?} */ argName in vars) {\n    fnArgNames.push(argName);\n    fnArgValues.push(vars[argName]);\n  }\n  return new Function(...fnArgNames.concat(fnBody))(...fnArgValues);\n}\n/**\n * @param {?} sourceUrl\n * @param {?} statements\n * @param {?} resultVars\n * @return {?}\n */\nexport function jitStatements(\n    sourceUrl: string, statements: o.Statement[], resultVars: string[]): any[] {\n  const /** @type {?} */ converter = new JitEmitterVisitor();\n  const /** @type {?} */ ctx = EmitterVisitorContext.createRoot(resultVars);\n  const /** @type {?} */ returnStmt =\n      new o.ReturnStatement(o.literalArr(resultVars.map(resultVar => o.variable(resultVar))));\n  converter.visitAllStatements(statements.concat([returnStmt]), ctx);\n  return evalExpression(sourceUrl, ctx, converter.getArgs());\n}\nclass JitEmitterVisitor extends AbstractJsEmitterVisitor {\nprivate _evalArgNames: string[] = [];\nprivate _evalArgValues: any[] = [];\n/**\n * @return {?}\n */\ngetArgs(): {[key: string]: any} {\n    const /** @type {?} */ result: {[key: string]: any} = {};\n    for (let /** @type {?} */ i = 0; i < this._evalArgNames.length; i++) {\n      result[this._evalArgNames[i]] = this._evalArgValues[i];\n    }\n    return result;\n  }\n/**\n * @param {?} ast\n * @param {?} ctx\n * @return {?}\n */\nvisitExternalExpr(ast: o.ExternalExpr, ctx: EmitterVisitorContext): any {\n    const /** @type {?} */ value = ast.value.reference;\n    let /** @type {?} */ id = this._evalArgValues.indexOf(value);\n    if (id === -1) {\n      id = this._evalArgValues.length;\n      this._evalArgValues.push(value);\n      const /** @type {?} */ name = identifierName(ast.value) || 'val';\n      this._evalArgNames.push(`jit_${name}${id}`);\n    }\n    ctx.print(ast, this._evalArgNames[id]);\n    return null;\n  }\n}\n\nfunction JitEmitterVisitor_tsickle_Closure_declarations() {\n/** @type {?} */\nJitEmitterVisitor.prototype._evalArgNames;\n/** @type {?} */\nJitEmitterVisitor.prototype._evalArgValues;\n}\n\n"]}