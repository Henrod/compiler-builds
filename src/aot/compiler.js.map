{"version":3,"sources":["../../../../../modules/@angular/compiler/src/aot/compiler.ts"],"names":[],"mappings":"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","file":"compiler.js","sourceRoot":"","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {AnimationCompiler} from '../animation/animation_compiler';\nimport {AnimationParser} from '../animation/animation_parser';\nimport {CompileDirectiveMetadata, CompileIdentifierMetadata, CompileNgModuleMetadata, CompileProviderMetadata, componentFactoryName, createHostComponentMeta, identifierName} from '../compile_metadata';\nimport {CompilerConfig} from '../config';\nimport {DirectiveWrapperCompiler} from '../directive_wrapper_compiler';\nimport {ListWrapper} from '../facade/collection';\nimport {Identifiers, createIdentifier, createIdentifierToken} from '../identifiers';\nimport {CompileMetadataResolver} from '../metadata_resolver';\nimport {NgModuleCompiler} from '../ng_module_compiler';\nimport {OutputEmitter} from '../output/abstract_emitter';\nimport * as o from '../output/output_ast';\nimport {CompiledStylesheet, StyleCompiler} from '../style_compiler';\nimport {SummaryResolver} from '../summary_resolver';\nimport {TemplateParser} from '../template_parser/template_parser';\nimport {syntaxError} from '../util';\nimport {ViewCompiler} from '../view_compiler/view_compiler';\n\nimport {AotCompilerHost} from './compiler_host';\nimport {GeneratedFile} from './generated_file';\nimport {StaticSymbol} from './static_symbol';\nimport {StaticSymbolResolver} from './static_symbol_resolver';\nimport {serializeSummaries} from './summary_serializer';\nimport {ngfactoryFilePath, splitTypescriptSuffix, summaryFileName} from './util';\nexport class AotCompiler {\nprivate _animationCompiler = new AnimationCompiler();\n/**\n * @param {?} _config\n * @param {?} _host\n * @param {?} _metadataResolver\n * @param {?} _templateParser\n * @param {?} _styleCompiler\n * @param {?} _viewCompiler\n * @param {?} _dirWrapperCompiler\n * @param {?} _ngModuleCompiler\n * @param {?} _outputEmitter\n * @param {?} _summaryResolver\n * @param {?} _localeId\n * @param {?} _translationFormat\n * @param {?} _animationParser\n * @param {?} _symbolResolver\n */\nconstructor(\nprivate _config: CompilerConfig,\nprivate _host: AotCompilerHost,\nprivate _metadataResolver: CompileMetadataResolver,\nprivate _templateParser: TemplateParser,\nprivate _styleCompiler: StyleCompiler,\nprivate _viewCompiler: ViewCompiler,\nprivate _dirWrapperCompiler: DirectiveWrapperCompiler,\nprivate _ngModuleCompiler: NgModuleCompiler,\nprivate _outputEmitter: OutputEmitter,\nprivate _summaryResolver: SummaryResolver<StaticSymbol>,\nprivate _localeId: string,\nprivate _translationFormat: string,\nprivate _animationParser: AnimationParser,\nprivate _symbolResolver: StaticSymbolResolver) {}\n/**\n * @return {?}\n */\nclearCache() { this._metadataResolver.clearCache(); }\n/**\n * @param {?} rootFiles\n * @return {?}\n */\ncompileAll(rootFiles: string[]): Promise<GeneratedFile[]> {\n    const /** @type {?} */ programSymbols = extractProgramSymbols(this._symbolResolver, rootFiles, this._host);\n    const {ngModuleByPipeOrDirective, files, ngModules} =\n        analyzeAndValidateNgModules(programSymbols, this._host, this._metadataResolver);\n    return Promise\n        .all(ngModules.map(\n            ngModule => this._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(\n                ngModule.type.reference, false)))\n        .then(() => {\n          const /** @type {?} */ sourceModules = files.map(\n              file => this._compileSrcFile(\n                  file.srcUrl, ngModuleByPipeOrDirective, file.directives, file.pipes,\n                  file.ngModules, file.injectables));\n          return ListWrapper.flatten(sourceModules);\n        });\n  }\n/**\n * @param {?} srcFileUrl\n * @param {?} ngModuleByPipeOrDirective\n * @param {?} directives\n * @param {?} pipes\n * @param {?} ngModules\n * @param {?} injectables\n * @return {?}\n */\nprivate _compileSrcFile(\n      srcFileUrl: string, ngModuleByPipeOrDirective: Map<StaticSymbol, CompileNgModuleMetadata>,\n      directives: StaticSymbol[], pipes: StaticSymbol[], ngModules: StaticSymbol[],\n      injectables: StaticSymbol[]): GeneratedFile[] {\n    const /** @type {?} */ fileSuffix = splitTypescriptSuffix(srcFileUrl)[1];\n    const /** @type {?} */ statements: o.Statement[] = [];\n    const /** @type {?} */ exportedVars: string[] = [];\n    const /** @type {?} */ generatedFiles: GeneratedFile[] = [];\n\n    generatedFiles.push(this._createSummary(\n        srcFileUrl, directives, pipes, ngModules, injectables, statements, exportedVars));\n\n    // compile all ng modules\n    exportedVars.push(\n        ...ngModules.map((ngModuleType) => this._compileModule(ngModuleType, statements)));\n\n    // compile directive wrappers\n    if (!this._config.useViewEngine) {\n      exportedVars.push(...directives.map(\n          (directiveType) => this._compileDirectiveWrapper(directiveType, statements)));\n    }\n\n    // compile components\n    directives.forEach((dirType) => {\n      const /** @type {?} */ compMeta = this._metadataResolver.getDirectiveMetadata( /** @type {?} */((<any>dirType)));\n      if (!compMeta.isComponent) {\n        return Promise.resolve(null);\n      }\n      const /** @type {?} */ ngModule = ngModuleByPipeOrDirective.get(dirType);\n      if (!ngModule) {\n        throw new Error(\n            `Internal Error: cannot determine the module for component ${identifierName(compMeta.type)}!`);\n      }\n\n      _assertComponent(compMeta);\n\n      // compile styles\n      const /** @type {?} */ stylesCompileResults = this._styleCompiler.compileComponent(compMeta);\n      stylesCompileResults.externalStylesheets.forEach((compiledStyleSheet) => {\n        generatedFiles.push(this._codgenStyles(srcFileUrl, compiledStyleSheet, fileSuffix));\n      });\n\n      // compile components\n      const /** @type {?} */ compViewVars = this._compileComponent(\n          compMeta, ngModule, ngModule.transitiveModule.directives,\n          stylesCompileResults.componentStylesheet, fileSuffix, statements);\n      exportedVars.push(\n          this._compileComponentFactory(compMeta, ngModule, fileSuffix, statements),\n          compViewVars.viewClassVar, compViewVars.compRenderTypeVar);\n    });\n    if (statements.length > 0) {\n      const /** @type {?} */ srcModule = this._codegenSourceModule(\n          srcFileUrl, ngfactoryFilePath(srcFileUrl), statements, exportedVars);\n      generatedFiles.unshift(srcModule);\n    }\n    return generatedFiles;\n  }\n/**\n * @param {?} srcFileUrl\n * @param {?} directives\n * @param {?} pipes\n * @param {?} ngModules\n * @param {?} injectables\n * @param {?} targetStatements\n * @param {?} targetExportedVars\n * @return {?}\n */\nprivate _createSummary(\n      srcFileUrl: string, directives: StaticSymbol[], pipes: StaticSymbol[],\n      ngModules: StaticSymbol[], injectables: StaticSymbol[], targetStatements: o.Statement[],\n      targetExportedVars: string[]): GeneratedFile {\n    const /** @type {?} */ symbolSummaries = this._symbolResolver.getSymbolsOf(srcFileUrl)\n                                .map(symbol => this._symbolResolver.resolveSymbol(symbol));\n    const /** @type {?} */ typeSummaries = [\n      ...ngModules.map(ref => this._metadataResolver.getNgModuleSummary(ref)),\n      ...directives.map(ref => this._metadataResolver.getDirectiveSummary(ref)),\n      ...pipes.map(ref => this._metadataResolver.getPipeSummary(ref)),\n      ...injectables.map(ref => this._metadataResolver.getInjectableSummary(ref))\n    ];\n    const {json, exportAs} = serializeSummaries(\n        this._summaryResolver, this._symbolResolver, symbolSummaries, typeSummaries);\n    exportAs.forEach((entry) => {\n      targetStatements.push(\n          o.variable(entry.exportAs).set(o.importExpr({reference: entry.symbol})).toDeclStmt());\n      targetExportedVars.push(entry.exportAs);\n    });\n    return new GeneratedFile(srcFileUrl, summaryFileName(srcFileUrl), json);\n  }\n/**\n * @param {?} ngModuleType\n * @param {?} targetStatements\n * @return {?}\n */\nprivate _compileModule(ngModuleType: StaticSymbol, targetStatements: o.Statement[]): string {\n    const /** @type {?} */ ngModule = this._metadataResolver.getNgModuleMetadata(ngModuleType);\n    const /** @type {?} */ providers: CompileProviderMetadata[] = [];\n\n    if (this._localeId) {\n      providers.push({\n        token: createIdentifierToken(Identifiers.LOCALE_ID),\n        useValue: this._localeId,\n      });\n    }\n\n    if (this._translationFormat) {\n      providers.push({\n        token: createIdentifierToken(Identifiers.TRANSLATIONS_FORMAT),\n        useValue: this._translationFormat\n      });\n    }\n\n    const /** @type {?} */ appCompileResult = this._ngModuleCompiler.compile(ngModule, providers);\n    targetStatements.push(...appCompileResult.statements);\n    return appCompileResult.ngModuleFactoryVar;\n  }\n/**\n * @param {?} directiveType\n * @param {?} targetStatements\n * @return {?}\n */\nprivate _compileDirectiveWrapper(directiveType: StaticSymbol, targetStatements: o.Statement[]):\n      string {\n    const /** @type {?} */ dirMeta = this._metadataResolver.getDirectiveMetadata(directiveType);\n    const /** @type {?} */ dirCompileResult = this._dirWrapperCompiler.compile(dirMeta);\n\n    targetStatements.push(...dirCompileResult.statements);\n    return dirCompileResult.dirWrapperClassVar;\n  }\n/**\n * @param {?} compMeta\n * @param {?} ngModule\n * @param {?} fileSuffix\n * @param {?} targetStatements\n * @return {?}\n */\nprivate _compileComponentFactory(\n      compMeta: CompileDirectiveMetadata, ngModule: CompileNgModuleMetadata, fileSuffix: string,\n      targetStatements: o.Statement[]): string {\n    const /** @type {?} */ hostType = this._metadataResolver.getHostComponentType(compMeta.type.reference);\n    const /** @type {?} */ hostMeta = createHostComponentMeta(\n        hostType, compMeta, this._metadataResolver.getHostComponentViewClass(hostType));\n    const /** @type {?} */ hostViewFactoryVar =\n        this._compileComponent(\n                hostMeta, ngModule, [compMeta.type], null, fileSuffix, targetStatements)\n            .viewClassVar;\n    const /** @type {?} */ compFactoryVar = componentFactoryName(compMeta.type.reference);\n    if (this._config.useViewEngine) {\n      targetStatements.push(\n          o.variable(compFactoryVar)\n              .set(o.importExpr(createIdentifier(Identifiers.createComponentFactory)).callFn([\n                o.literal(compMeta.selector),\n                o.importExpr(compMeta.type),\n                o.variable(hostViewFactoryVar),\n              ]))\n              .toDeclStmt(\n                  o.importType(\n                      createIdentifier(Identifiers.ComponentFactory), [o.importType(compMeta.type)],\n                      [o.TypeModifier.Const]),\n                  [o.StmtModifier.Final]));\n    } else {\n      targetStatements.push(\n          o.variable(compFactoryVar)\n              .set(o.importExpr(createIdentifier(Identifiers.ComponentFactory), [o.importType(\n                                                                                    compMeta.type)])\n                       .instantiate(\n                           [\n                             o.literal(compMeta.selector),\n                             o.variable(hostViewFactoryVar),\n                             o.importExpr(compMeta.type),\n                           ],\n                           o.importType(\n                               createIdentifier(Identifiers.ComponentFactory),\n                               [o.importType(compMeta.type)], [o.TypeModifier.Const])))\n              .toDeclStmt(null, [o.StmtModifier.Final]));\n    }\n    return compFactoryVar;\n  }\n/**\n * @param {?} compMeta\n * @param {?} ngModule\n * @param {?} directiveIdentifiers\n * @param {?} componentStyles\n * @param {?} fileSuffix\n * @param {?} targetStatements\n * @return {?}\n */\nprivate _compileComponent(\n      compMeta: CompileDirectiveMetadata, ngModule: CompileNgModuleMetadata,\n      directiveIdentifiers: CompileIdentifierMetadata[], componentStyles: CompiledStylesheet,\n      fileSuffix: string,\n      targetStatements: o.Statement[]): {viewClassVar: string, compRenderTypeVar: string} {\n    const /** @type {?} */ parsedAnimations = this._animationParser.parseComponent(compMeta);\n    const /** @type {?} */ directives =\n        directiveIdentifiers.map(dir => this._metadataResolver.getDirectiveSummary(dir.reference));\n    const /** @type {?} */ pipes = ngModule.transitiveModule.pipes.map(\n        pipe => this._metadataResolver.getPipeSummary(pipe.reference));\n\n    const {template: parsedTemplate, pipes: usedPipes} = this._templateParser.parse(\n        compMeta, compMeta.template.template, directives, pipes, ngModule.schemas,\n        identifierName(compMeta.type));\n    const /** @type {?} */ stylesExpr = componentStyles ? o.variable(componentStyles.stylesVar) : o.literalArr([]);\n    const /** @type {?} */ compiledAnimations =\n        this._animationCompiler.compile(identifierName(compMeta.type), parsedAnimations);\n    const /** @type {?} */ viewResult = this._viewCompiler.compileComponent(\n        compMeta, parsedTemplate, stylesExpr, usedPipes, compiledAnimations);\n    if (componentStyles) {\n      targetStatements.push(\n          ..._resolveStyleStatements(this._symbolResolver, componentStyles, fileSuffix));\n    }\n    compiledAnimations.forEach(entry => targetStatements.push(...entry.statements));\n    targetStatements.push(...viewResult.statements);\n    return {viewClassVar: viewResult.viewClassVar, compRenderTypeVar: viewResult.rendererTypeVar};\n  }\n/**\n * @param {?} fileUrl\n * @param {?} stylesCompileResult\n * @param {?} fileSuffix\n * @return {?}\n */\nprivate _codgenStyles(\n      fileUrl: string, stylesCompileResult: CompiledStylesheet, fileSuffix: string): GeneratedFile {\n    _resolveStyleStatements(this._symbolResolver, stylesCompileResult, fileSuffix);\n    return this._codegenSourceModule(\n        fileUrl, _stylesModuleUrl(\n                     stylesCompileResult.meta.moduleUrl, stylesCompileResult.isShimmed, fileSuffix),\n        stylesCompileResult.statements, [stylesCompileResult.stylesVar]);\n  }\n/**\n * @param {?} srcFileUrl\n * @param {?} genFileUrl\n * @param {?} statements\n * @param {?} exportedVars\n * @return {?}\n */\nprivate _codegenSourceModule(\n      srcFileUrl: string, genFileUrl: string, statements: o.Statement[],\n      exportedVars: string[]): GeneratedFile {\n    return new GeneratedFile(\n        srcFileUrl, genFileUrl,\n        this._outputEmitter.emitStatements(genFileUrl, statements, exportedVars));\n  }\n}\n\nfunction AotCompiler_tsickle_Closure_declarations() {\n/** @type {?} */\nAotCompiler.prototype._animationCompiler;\n/** @type {?} */\nAotCompiler.prototype._config;\n/** @type {?} */\nAotCompiler.prototype._host;\n/** @type {?} */\nAotCompiler.prototype._metadataResolver;\n/** @type {?} */\nAotCompiler.prototype._templateParser;\n/** @type {?} */\nAotCompiler.prototype._styleCompiler;\n/** @type {?} */\nAotCompiler.prototype._viewCompiler;\n/** @type {?} */\nAotCompiler.prototype._dirWrapperCompiler;\n/** @type {?} */\nAotCompiler.prototype._ngModuleCompiler;\n/** @type {?} */\nAotCompiler.prototype._outputEmitter;\n/** @type {?} */\nAotCompiler.prototype._summaryResolver;\n/** @type {?} */\nAotCompiler.prototype._localeId;\n/** @type {?} */\nAotCompiler.prototype._translationFormat;\n/** @type {?} */\nAotCompiler.prototype._animationParser;\n/** @type {?} */\nAotCompiler.prototype._symbolResolver;\n}\n\n/**\n * @param {?} reflector\n * @param {?} compileResult\n * @param {?} fileSuffix\n * @return {?}\n */\nfunction _resolveStyleStatements(\n    reflector: StaticSymbolResolver, compileResult: CompiledStylesheet,\n    fileSuffix: string): o.Statement[] {\n  compileResult.dependencies.forEach((dep) => {\n    dep.valuePlaceholder.reference = reflector.getStaticSymbol(\n        _stylesModuleUrl(dep.moduleUrl, dep.isShimmed, fileSuffix), dep.name);\n  });\n  return compileResult.statements;\n}\n/**\n * @param {?} stylesheetUrl\n * @param {?} shim\n * @param {?} suffix\n * @return {?}\n */\nfunction _stylesModuleUrl(stylesheetUrl: string, shim: boolean, suffix: string): string {\n  return `${stylesheetUrl}${shim ? '.shim' : ''}.ngstyle${suffix}`;\n}\n/**\n * @param {?} meta\n * @return {?}\n */\nfunction _assertComponent(meta: CompileDirectiveMetadata) {\n  if (!meta.isComponent) {\n    throw new Error(\n        `Could not compile '${identifierName(meta.type)}' because it is not a component.`);\n  }\n}\n\nexport interface NgAnalyzedModules {\n  ngModules: CompileNgModuleMetadata[];\n  ngModuleByPipeOrDirective: Map<StaticSymbol, CompileNgModuleMetadata>;\n  files: Array<{\n    srcUrl: string,\n    directives: StaticSymbol[],\n    pipes: StaticSymbol[],\n    ngModules: StaticSymbol[],\n    injectables: StaticSymbol[]\n  }>;\n  symbolsMissingModule?: StaticSymbol[];\n}\n\nexport interface NgAnalyzeModulesHost { isSourceFile(filePath: string): boolean; }\n/**\n * @param {?} programStaticSymbols\n * @param {?} host\n * @param {?} metadataResolver\n * @return {?}\n */\nexport function analyzeNgModules(\n    programStaticSymbols: StaticSymbol[], host: NgAnalyzeModulesHost,\n    metadataResolver: CompileMetadataResolver): NgAnalyzedModules {\n  const {ngModules, symbolsMissingModule} =\n      _createNgModules(programStaticSymbols, host, metadataResolver);\n  return _analyzeNgModules(programStaticSymbols, ngModules, symbolsMissingModule, metadataResolver);\n}\n/**\n * @param {?} programStaticSymbols\n * @param {?} host\n * @param {?} metadataResolver\n * @return {?}\n */\nexport function analyzeAndValidateNgModules(\n    programStaticSymbols: StaticSymbol[], host: NgAnalyzeModulesHost,\n    metadataResolver: CompileMetadataResolver): NgAnalyzedModules {\n  const /** @type {?} */ result = analyzeNgModules(programStaticSymbols, host, metadataResolver);\n  if (result.symbolsMissingModule && result.symbolsMissingModule.length) {\n    const /** @type {?} */ messages = result.symbolsMissingModule.map(\n        s =>\n            `Cannot determine the module for class ${s.name} in ${s.filePath}! Add ${s.name} to the NgModule to fix it.`);\n    throw syntaxError(messages.join('\\n'));\n  }\n  return result;\n}\n/**\n * @param {?} programSymbols\n * @param {?} ngModuleMetas\n * @param {?} symbolsMissingModule\n * @param {?} metadataResolver\n * @return {?}\n */\nfunction _analyzeNgModules(\n    programSymbols: StaticSymbol[], ngModuleMetas: CompileNgModuleMetadata[],\n    symbolsMissingModule: StaticSymbol[],\n    metadataResolver: CompileMetadataResolver): NgAnalyzedModules {\n  const /** @type {?} */ moduleMetasByRef = new Map<any, CompileNgModuleMetadata>();\n  ngModuleMetas.forEach((ngModule) => moduleMetasByRef.set(ngModule.type.reference, ngModule));\n  const /** @type {?} */ ngModuleByPipeOrDirective = new Map<StaticSymbol, CompileNgModuleMetadata>();\n  const /** @type {?} */ ngModulesByFile = new Map<string, StaticSymbol[]>();\n  const /** @type {?} */ ngDirectivesByFile = new Map<string, StaticSymbol[]>();\n  const /** @type {?} */ ngPipesByFile = new Map<string, StaticSymbol[]>();\n  const /** @type {?} */ ngInjectablesByFile = new Map<string, StaticSymbol[]>();\n  const /** @type {?} */ filePaths = new Set<string>();\n\n  // Make sure we produce an analyzed file for each input file\n  programSymbols.forEach((symbol) => {\n    const /** @type {?} */ filePath = symbol.filePath;\n    filePaths.add(filePath);\n    if (metadataResolver.isInjectable(symbol)) {\n      ngInjectablesByFile.set(filePath, (ngInjectablesByFile.get(filePath) || []).concat(symbol));\n    }\n  });\n\n  // Looping over all modules to construct:\n  // - a map from file to modules `ngModulesByFile`,\n  // - a map from file to directives `ngDirectivesByFile`,\n  // - a map from file to pipes `ngPipesByFile`,\n  // - a map from directive/pipe to module `ngModuleByPipeOrDirective`.\n  ngModuleMetas.forEach((ngModuleMeta) => {\n    const /** @type {?} */ srcFileUrl = ngModuleMeta.type.reference.filePath;\n    filePaths.add(srcFileUrl);\n    ngModulesByFile.set(\n        srcFileUrl, (ngModulesByFile.get(srcFileUrl) || []).concat(ngModuleMeta.type.reference));\n\n    ngModuleMeta.declaredDirectives.forEach((dirIdentifier) => {\n      const /** @type {?} */ fileUrl = dirIdentifier.reference.filePath;\n      filePaths.add(fileUrl);\n      ngDirectivesByFile.set(\n          fileUrl, (ngDirectivesByFile.get(fileUrl) || []).concat(dirIdentifier.reference));\n      ngModuleByPipeOrDirective.set(dirIdentifier.reference, ngModuleMeta);\n    });\n    ngModuleMeta.declaredPipes.forEach((pipeIdentifier) => {\n      const /** @type {?} */ fileUrl = pipeIdentifier.reference.filePath;\n      filePaths.add(fileUrl);\n      ngPipesByFile.set(\n          fileUrl, (ngPipesByFile.get(fileUrl) || []).concat(pipeIdentifier.reference));\n      ngModuleByPipeOrDirective.set(pipeIdentifier.reference, ngModuleMeta);\n    });\n  });\n\n  const /** @type {?} */ files: {\n    srcUrl: string,\n    directives: StaticSymbol[],\n    pipes: StaticSymbol[],\n    ngModules: StaticSymbol[],\n    injectables: StaticSymbol[]\n  }[] = [];\n\n  filePaths.forEach((srcUrl) => {\n    const /** @type {?} */ directives = ngDirectivesByFile.get(srcUrl) || [];\n    const /** @type {?} */ pipes = ngPipesByFile.get(srcUrl) || [];\n    const /** @type {?} */ ngModules = ngModulesByFile.get(srcUrl) || [];\n    const /** @type {?} */ injectables = ngInjectablesByFile.get(srcUrl) || [];\n    files.push({srcUrl, directives, pipes, ngModules, injectables});\n  });\n\n  return {\n    // map directive/pipe to module\n    ngModuleByPipeOrDirective,\n    // list modules and directives for every source file\n    files,\n    ngModules: ngModuleMetas, symbolsMissingModule\n  };\n}\n/**\n * @param {?} staticSymbolResolver\n * @param {?} files\n * @param {?} host\n * @return {?}\n */\nexport function extractProgramSymbols(\n    staticSymbolResolver: StaticSymbolResolver, files: string[],\n    host: NgAnalyzeModulesHost): StaticSymbol[] {\n  const /** @type {?} */ staticSymbols: StaticSymbol[] = [];\n  files.filter(fileName => host.isSourceFile(fileName)).forEach(sourceFile => {\n    staticSymbolResolver.getSymbolsOf(sourceFile).forEach((symbol) => {\n      const /** @type {?} */ resolvedSymbol = staticSymbolResolver.resolveSymbol(symbol);\n      const /** @type {?} */ symbolMeta = resolvedSymbol.metadata;\n      if (symbolMeta) {\n        if (symbolMeta.__symbolic != 'error') {\n          // Ignore symbols that are only included to record error information.\n          staticSymbols.push(resolvedSymbol.symbol);\n        }\n      }\n    });\n  });\n\n  return staticSymbols;\n}\n/**\n * @param {?} programStaticSymbols\n * @param {?} host\n * @param {?} metadataResolver\n * @return {?}\n */\nfunction _createNgModules(\n    programStaticSymbols: StaticSymbol[], host: NgAnalyzeModulesHost,\n    metadataResolver: CompileMetadataResolver):\n    {ngModules: CompileNgModuleMetadata[], symbolsMissingModule: StaticSymbol[]} {\n  const /** @type {?} */ ngModules = new Map<any, CompileNgModuleMetadata>();\n  const /** @type {?} */ programPipesAndDirectives: StaticSymbol[] = [];\n  const /** @type {?} */ ngModulePipesAndDirective = new Set<StaticSymbol>();\n\n  const /** @type {?} */ addNgModule = (staticSymbol: any) => {\n    if (ngModules.has(staticSymbol) || !host.isSourceFile(staticSymbol.filePath)) {\n      return false;\n    }\n    const /** @type {?} */ ngModule = metadataResolver.getNgModuleMetadata(staticSymbol, false);\n    if (ngModule) {\n      ngModules.set(ngModule.type.reference, ngModule);\n      ngModule.declaredDirectives.forEach((dir) => ngModulePipesAndDirective.add(dir.reference));\n      ngModule.declaredPipes.forEach((pipe) => ngModulePipesAndDirective.add(pipe.reference));\n      // For every input module add the list of transitively included modules\n      ngModule.transitiveModule.modules.forEach(modMeta => addNgModule(modMeta.reference));\n    }\n    return !!ngModule;\n  };\n  programStaticSymbols.forEach((staticSymbol) => {\n    if (!addNgModule(staticSymbol) &&\n        (metadataResolver.isDirective(staticSymbol) || metadataResolver.isPipe(staticSymbol))) {\n      programPipesAndDirectives.push(staticSymbol);\n    }\n  });\n\n  // Throw an error if any of the program pipe or directives is not declared by a module\n  const /** @type {?} */ symbolsMissingModule =\n      programPipesAndDirectives.filter(s => !ngModulePipesAndDirective.has(s));\n\n  return {ngModules: Array.from(ngModules.values()), symbolsMissingModule};\n}\n"]}