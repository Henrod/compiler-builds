{"version":3,"sources":["../../../../../modules/@angular/compiler/src/view_compiler_next/view_compiler.ts"],"names":[],"mappings":"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","file":"view_compiler.js","sourceRoot":"","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {ChangeDetectionStrategy, ViewEncapsulation} from '@angular/core/index';\n\nimport {AnimationEntryCompileResult} from '../animation/animation_compiler';\nimport {CompileDiDependencyMetadata, CompileDirectiveMetadata, CompileDirectiveSummary, CompilePipeSummary, CompileProviderMetadata, CompileTokenMetadata, CompileTypeMetadata, identifierModuleUrl, identifierName, rendererTypeName, tokenReference, viewClassName} from '../compile_metadata';\nimport {BuiltinConverter, BuiltinConverterFactory, EventHandlerVars, LocalResolver, convertActionBinding, convertPropertyBinding, convertPropertyBindingBuiltins} from '../compiler_util/expression_converter';\nimport {CompilerConfig} from '../config';\nimport {AST, ASTWithSource, Interpolation} from '../expression_parser/ast';\nimport {Identifiers, createIdentifier, createIdentifierToken, resolveIdentifier} from '../identifiers';\nimport {CompilerInjectable} from '../injectable';\nimport * as o from '../output/output_ast';\nimport {convertValueToOutputAst} from '../output/value_util';\nimport {LifecycleHooks, viewEngine} from '../private_import_core';\nimport {ElementSchemaRegistry} from '../schema/element_schema_registry';\nimport {AttrAst, BoundDirectivePropertyAst, BoundElementPropertyAst, BoundEventAst, BoundTextAst, DirectiveAst, ElementAst, EmbeddedTemplateAst, NgContentAst, PropertyBindingType, ProviderAst, ProviderAstType, QueryMatch, ReferenceAst, TemplateAst, TemplateAstVisitor, TextAst, VariableAst, templateVisitAll} from '../template_parser/template_ast';\nimport {ComponentFactoryDependency, ComponentViewDependency, DirectiveWrapperDependency, ViewCompileResult, ViewCompiler} from '../view_compiler/view_compiler';\n\nconst /** @type {?} */ CLASS_ATTR = 'class';\nconst /** @type {?} */ STYLE_ATTR = 'style';\nconst /** @type {?} */ IMPLICIT_TEMPLATE_VAR = '\\$implicit';\nconst /** @type {?} */ NG_CONTAINER_TAG = 'ng-container';\n@CompilerInjectable()\nexport class ViewCompilerNext extends ViewCompiler {\n/**\n * @param {?} _genConfigNext\n * @param {?} _schemaRegistryNext\n */\nconstructor(\nprivate _genConfigNext: CompilerConfig,\nprivate _schemaRegistryNext: ElementSchemaRegistry) {\n    super(_genConfigNext, _schemaRegistryNext);\n  }\n/**\n * @param {?} component\n * @param {?} template\n * @param {?} styles\n * @param {?} usedPipes\n * @param {?} compiledAnimations\n * @return {?}\n */\ncompileComponent(\n      component: CompileDirectiveMetadata, template: TemplateAst[], styles: o.Expression,\n      usedPipes: CompilePipeSummary[],\n      compiledAnimations: AnimationEntryCompileResult[]): ViewCompileResult {\n    let /** @type {?} */ embeddedViewCount = 0;\n    const /** @type {?} */ staticQueryIds = findStaticQueryIds(template);\n\n    const /** @type {?} */ statements: o.Statement[] = [];\n\n    const /** @type {?} */ renderComponentVar = o.variable(rendererTypeName(component.type.reference));\n    statements.push(\n        renderComponentVar\n            .set(o.importExpr(createIdentifier(Identifiers.createRendererTypeV2)).callFn([\n              new o.LiteralMapExpr([\n                new o.LiteralMapEntry('encapsulation', o.literal(component.template.encapsulation)),\n                new o.LiteralMapEntry('styles', styles),\n                // TODO: copy this from the @Component directive...\n                new o.LiteralMapEntry('data', o.literalMap([])),\n              ])\n            ]))\n            .toDeclStmt(\n                o.importType(createIdentifier(Identifiers.RendererTypeV2)),\n                [o.StmtModifier.Final]));\n\n    const /** @type {?} */ viewBuilderFactory = (parent: ViewBuilder): ViewBuilder => {\n      const /** @type {?} */ embeddedViewIndex = embeddedViewCount++;\n      return new ViewBuilder(\n          parent, component, embeddedViewIndex, usedPipes, staticQueryIds, viewBuilderFactory);\n    };\n\n    const /** @type {?} */ visitor = viewBuilderFactory(null);\n    visitor.visitAll([], template);\n\n    statements.push(...visitor.build());\n\n    return new ViewCompileResult(statements, visitor.viewName, renderComponentVar.name, []);\n  }\n}\n\nfunction ViewCompilerNext_tsickle_Closure_declarations() {\n/** @type {?} */\nViewCompilerNext.prototype._genConfigNext;\n/** @type {?} */\nViewCompilerNext.prototype._schemaRegistryNext;\n}\n\n\ninterface ViewBuilderFactory {\n  (parent: ViewBuilder): ViewBuilder;\n}\n\ninterface UpdateExpression {\n  nodeIndex: number;\n  expressions: {context: o.Expression, value: AST}[];\n}\n\nconst /** @type {?} */ VIEW_VAR = o.variable('view');\nconst /** @type {?} */ CHECK_VAR = o.variable('check');\nconst /** @type {?} */ COMP_VAR = o.variable('comp');\nconst /** @type {?} */ NODE_INDEX_VAR = o.variable('nodeIndex');\nconst /** @type {?} */ EVENT_NAME_VAR = o.variable('eventName');\nconst /** @type {?} */ ALLOW_DEFAULT_VAR = o.variable(`allowDefault`);\nclass ViewBuilder implements TemplateAstVisitor, LocalResolver, BuiltinConverterFactory {\nprivate compType: o.Type;\nprivate nodeDefs: (() => o.Expression)[] = [];\nprivate purePipeNodeIndices: {[pipeName: string]: number} = {};\nprivate refNodeIndices: {[refName: string]: number} = {};\nprivate variables: VariableAst[] = [];\nprivate children: ViewBuilder[] = [];\nprivate updateDirectivesExpressions: UpdateExpression[] = [];\nprivate updateRendererExpressions: UpdateExpression[] = [];\n/**\n * @param {?} parent\n * @param {?} component\n * @param {?} embeddedViewIndex\n * @param {?} usedPipes\n * @param {?} staticQueryIds\n * @param {?} viewBuilderFactory\n */\nconstructor(\nprivate parent: ViewBuilder,\nprivate component: CompileDirectiveMetadata,\nprivate embeddedViewIndex: number,\nprivate usedPipes: CompilePipeSummary[],\nprivate staticQueryIds: Map<TemplateAst, StaticAndDynamicQueryIds>,\nprivate viewBuilderFactory: ViewBuilderFactory) {\n    // TODO(tbosch): The old view compiler used to use an `any` type\n    // for the context in any embedded view. We keep this behaivor for now\n    // to be able to introduce the new view compiler without too many errors.\n    this.compType = this.embeddedViewIndex > 0 ? o.DYNAMIC_TYPE : o.importType(this.component.type);\n  }\n/**\n * @return {?}\n */\nget viewName(): string {\n    return viewClassName(this.component.type.reference, this.embeddedViewIndex);\n  }\n/**\n * @param {?} variables\n * @param {?} astNodes\n * @return {?}\n */\nvisitAll(variables: VariableAst[], astNodes: TemplateAst[]) {\n    this.variables = variables;\n    // create the pipes for the pure pipes immediately, so that we know their indices.\n    if (!this.parent) {\n      this.usedPipes.forEach((pipe) => {\n        if (pipe.pure) {\n          this.purePipeNodeIndices[pipe.name] = this._createPipe(pipe);\n        }\n      });\n    }\n\n    if (!this.parent) {\n      const /** @type {?} */ queryIds = staticViewQueryIds(this.staticQueryIds);\n      this.component.viewQueries.forEach((query, queryIndex) => {\n        // Note: queries start with id 1 so we can use the number in a Bloom filter!\n        const /** @type {?} */ queryId = queryIndex + 1;\n        const /** @type {?} */ bindingType =\n            query.first ? viewEngine.QueryBindingType.First : viewEngine.QueryBindingType.All;\n        let /** @type {?} */ flags = viewEngine.NodeFlags.HasViewQuery;\n        if (queryIds.staticQueryIds.has(queryId)) {\n          flags |= viewEngine.NodeFlags.HasStaticQuery;\n        } else {\n          flags |= viewEngine.NodeFlags.HasDynamicQuery;\n        }\n        this.nodeDefs.push(() => o.importExpr(createIdentifier(Identifiers.queryDef)).callFn([\n          o.literal(flags), o.literal(queryId),\n          new o.LiteralMapExpr([new o.LiteralMapEntry(query.propertyName, o.literal(bindingType))])\n        ]));\n      });\n    }\n    templateVisitAll(this, astNodes);\n    if (astNodes.length === 0 ||\n        (this.parent && needsAdditionalRootNode(astNodes[astNodes.length - 1]))) {\n      // if the view is empty, or an embedded view has a view container as last root nde,\n      // create an additional root node.\n      this.nodeDefs.push(() => o.importExpr(createIdentifier(Identifiers.anchorDef)).callFn([\n        o.literal(viewEngine.NodeFlags.None), o.NULL_EXPR, o.NULL_EXPR, o.literal(0)\n      ]));\n    }\n  }\n/**\n * @param {?=} targetStatements\n * @return {?}\n */\nbuild(targetStatements: o.Statement[] = []): o.Statement[] {\n    this.children.forEach((child) => child.build(targetStatements));\n\n    const /** @type {?} */ updateDirectivesFn = this._createUpdateFn(this.updateDirectivesExpressions);\n    const /** @type {?} */ updateRendererFn = this._createUpdateFn(this.updateRendererExpressions);\n\n\n    let /** @type {?} */ viewFlags = viewEngine.ViewFlags.None;\n    if (!this.parent && this.component.changeDetection === ChangeDetectionStrategy.OnPush) {\n      viewFlags |= viewEngine.ViewFlags.OnPush;\n    }\n    const /** @type {?} */ viewFactory = new o.DeclareFunctionStmt(\n        this.viewName, [],\n        [new o.ReturnStatement(o.importExpr(createIdentifier(Identifiers.viewDef)).callFn([\n          o.literal(viewFlags),\n          o.literalArr(this.nodeDefs.map(nd => nd())),\n          updateDirectivesFn,\n          updateRendererFn,\n        ]))],\n        o.importType(createIdentifier(Identifiers.ViewDefinition)));\n\n    targetStatements.push(viewFactory);\n    return targetStatements;\n  }\n/**\n * @param {?} expressions\n * @return {?}\n */\nprivate _createUpdateFn(expressions: UpdateExpression[]): o.Expression {\n    const /** @type {?} */ updateStmts: o.Statement[] = [];\n    let /** @type {?} */ updateBindingCount = 0;\n    expressions.forEach(({expressions, nodeIndex}) => {\n      const /** @type {?} */ exprs = expressions.map(({context, value}) => {\n        const /** @type {?} */ bindingId = `${updateBindingCount++}`;\n        const /** @type {?} */ nameResolver = context === COMP_VAR ? this : null;\n        const {stmts, currValExpr} =\n            convertPropertyBinding(nameResolver, context, value, bindingId);\n        updateStmts.push(...stmts);\n        return currValExpr;\n      });\n      updateStmts.push(callCheckStmt(nodeIndex, exprs).toStmt());\n    });\n    let /** @type {?} */ updateFn: o.Expression;\n    if (updateStmts.length > 0) {\n      const /** @type {?} */ preStmts: o.Statement[] = [];\n      if (!this.component.isHost) {\n        preStmts.push(COMP_VAR.set(VIEW_VAR.prop('component')).toDeclStmt(this.compType));\n      }\n      updateFn = o.fn(\n          [\n            new o.FnParam(CHECK_VAR.name, o.INFERRED_TYPE),\n            new o.FnParam(VIEW_VAR.name, o.INFERRED_TYPE)\n          ],\n          [...preStmts, ...updateStmts], o.INFERRED_TYPE);\n    } else {\n      updateFn = o.NULL_EXPR;\n    }\n    return updateFn;\n  }\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitNgContent(ast: NgContentAst, context: any): any {\n    // ngContentDef(ngContentIndex: number, index: number): NodeDef;\n    this.nodeDefs.push(() => o.importExpr(createIdentifier(Identifiers.ngContentDef)).callFn([\n      o.literal(ast.ngContentIndex), o.literal(ast.index)\n    ]));\n  }\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitText(ast: TextAst, context: any): any {\n    // textDef(ngContentIndex: number, constants: string[]): NodeDef;\n    this.nodeDefs.push(() => o.importExpr(createIdentifier(Identifiers.textDef)).callFn([\n      o.literal(ast.ngContentIndex), o.literalArr([o.literal(ast.value)])\n    ]));\n  }\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitBoundText(ast: BoundTextAst, context: any): any {\n    const /** @type {?} */ nodeIndex = this.nodeDefs.length;\n    // reserve the space in the nodeDefs array\n    this.nodeDefs.push(null);\n\n    const /** @type {?} */ astWithSource = /** @type {?} */(( <ASTWithSource>ast.value));\n    const /** @type {?} */ inter = /** @type {?} */(( <Interpolation>astWithSource.ast));\n\n    this._addUpdateExpressions(\n        nodeIndex, inter.expressions.map((expr) => { return {context: COMP_VAR, value: expr}; }),\n        this.updateRendererExpressions);\n\n    // textDef(ngContentIndex: number, constants: string[]): NodeDef;\n    this.nodeDefs[nodeIndex] = () => o.importExpr(createIdentifier(Identifiers.textDef)).callFn([\n      o.literal(ast.ngContentIndex), o.literalArr(inter.strings.map(s => o.literal(s)))\n    ]);\n  }\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitEmbeddedTemplate(ast: EmbeddedTemplateAst, context: any): any {\n    const /** @type {?} */ nodeIndex = this.nodeDefs.length;\n    // reserve the space in the nodeDefs array\n    this.nodeDefs.push(null);\n\n    const {flags, queryMatchesExpr, hostEvents} = this._visitElementOrTemplate(nodeIndex, ast);\n\n    const /** @type {?} */ childVisitor = this.viewBuilderFactory(this);\n    this.children.push(childVisitor);\n    childVisitor.visitAll(ast.variables, ast.children);\n\n    const /** @type {?} */ childCount = this.nodeDefs.length - nodeIndex - 1;\n\n    // anchorDef(\n    //   flags: NodeFlags, matchedQueries: [string, QueryValueType][], ngContentIndex: number,\n    //   childCount: number, handleEventFn?: ElementHandleEventFn, templateFactory?:\n    //   ViewDefinitionFactory): NodeDef;\n    const /** @type {?} */ nodeDef = () => o.importExpr(createIdentifier(Identifiers.anchorDef)).callFn([\n      o.literal(flags),\n      queryMatchesExpr,\n      o.literal(ast.ngContentIndex),\n      o.literal(childCount),\n      this._createElementHandleEventFn(nodeIndex, hostEvents),\n      o.variable(childVisitor.viewName),\n    ]);\n    this.nodeDefs[nodeIndex] = nodeDef;\n  }\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitElement(ast: ElementAst, context: any): any {\n    const /** @type {?} */ nodeIndex = this.nodeDefs.length;\n    // reserve the space in the nodeDefs array so we can add children\n    this.nodeDefs.push(null);\n\n    let /** @type {?} */ elName = ast.name;\n    if (ast.name === NG_CONTAINER_TAG) {\n      // Using a null element name creates an anchor.\n      elName = null;\n    }\n\n    let {flags, usedEvents, queryMatchesExpr, hostBindings, hostEvents} =\n        this._visitElementOrTemplate(nodeIndex, ast);\n\n    let /** @type {?} */ inputDefs: o.Expression[] = [];\n    let /** @type {?} */ outputDefs: o.Expression[] = [];\n    if (elName) {\n      ast.inputs.forEach(\n          (inputAst) => hostBindings.push({context: COMP_VAR, value: inputAst.value}));\n      if (hostBindings.length) {\n        this._addUpdateExpressions(nodeIndex, hostBindings, this.updateRendererExpressions);\n      }\n      // Note: inputDefs have to be in the same order as hostBindings:\n      // - first the entries from the directives, then the ones from the element.\n      ast.directives.forEach(\n          (dirAst, dirIndex) => inputDefs.push(...elementBindingDefs(dirAst.hostProperties)));\n      inputDefs.push(...elementBindingDefs(ast.inputs));\n\n      outputDefs = usedEvents.map(([target, eventName]) => {\n        return target ? o.literalArr([o.literal(target), o.literal(eventName)]) :\n                        o.literal(eventName);\n      });\n    }\n\n    templateVisitAll(this, ast.children);\n\n    const /** @type {?} */ childCount = this.nodeDefs.length - nodeIndex - 1;\n\n    // elementDef(\n    //   flags: NodeFlags, matchedQueries: [string, QueryValueType][], ngContentIndex: number,\n    //   childCount: number, name: string, fixedAttrs: {[name: string]: string} = {},\n    //   bindings?:\n    //       ([BindingType.ElementClass, string] | [BindingType.ElementStyle, string, string] |\n    //         [BindingType.ElementAttribute | BindingType.ElementProperty, string,\n    //         SecurityContext])[],\n    //   outputs?: (string | [string, string])[], eventHandlerFn: ElementHandleEventFn): NodeDef;\n    const /** @type {?} */ nodeDef = () => o.importExpr(createIdentifier(Identifiers.elementDef)).callFn([\n      o.literal(flags), queryMatchesExpr, o.literal(ast.ngContentIndex), o.literal(childCount),\n      o.literal(elName), elName ? fixedAttrsDef(ast) : o.NULL_EXPR,\n      inputDefs.length ? o.literalArr(inputDefs) : o.NULL_EXPR,\n      outputDefs.length ? o.literalArr(outputDefs) : o.NULL_EXPR,\n      this._createElementHandleEventFn(nodeIndex, hostEvents)\n    ]);\n\n    this.nodeDefs[nodeIndex] = nodeDef;\n  }\n/**\n * @param {?} nodeIndex\n * @param {?} ast\n * @return {?}\n */\nprivate _visitElementOrTemplate(nodeIndex: number, ast: {\n    hasViewContainer: boolean,\n    outputs: BoundEventAst[],\n    directives: DirectiveAst[],\n    providers: ProviderAst[],\n    references: ReferenceAst[],\n    queryMatches: QueryMatch[]\n  }): {\n    flags: number,\n    usedEvents: [string, string][],\n    queryMatchesExpr: o.Expression,\n    hostBindings: {value: AST, context: o.Expression}[],\n    hostEvents: {context: o.Expression, eventAst: BoundEventAst}[],\n  } {\n    let /** @type {?} */ flags = viewEngine.NodeFlags.None;\n    if (ast.hasViewContainer) {\n      flags |= viewEngine.NodeFlags.HasEmbeddedViews;\n    }\n    const /** @type {?} */ usedEvents = new Map<string, [string, string]>();\n    ast.outputs.forEach((event) => {\n      usedEvents.set(\n          viewEngine.elementEventFullName(event.target, event.name), [event.target, event.name]);\n    });\n    ast.directives.forEach((dirAst) => {\n      dirAst.hostEvents.forEach((event) => {\n        usedEvents.set(\n            viewEngine.elementEventFullName(event.target, event.name), [event.target, event.name]);\n      });\n    });\n    const /** @type {?} */ hostBindings: {value: AST, context: o.Expression}[] = [];\n    const /** @type {?} */ hostEvents: {context: o.Expression, eventAst: BoundEventAst}[] = [];\n    const /** @type {?} */ componentFactoryResolverProvider = createComponentFactoryResolver(ast.directives);\n    if (componentFactoryResolverProvider) {\n      this._visitProvider(componentFactoryResolverProvider, ast.queryMatches);\n    }\n\n    ast.providers.forEach((providerAst, providerIndex) => {\n      let /** @type {?} */ dirAst: DirectiveAst;\n      let /** @type {?} */ dirIndex: number;\n      ast.directives.forEach((localDirAst, i) => {\n        if (localDirAst.directive.type.reference === tokenReference(providerAst.token)) {\n          dirAst = localDirAst;\n          dirIndex = i;\n        }\n      });\n      if (dirAst) {\n        const {hostBindings: dirHostBindings, hostEvents: dirHostEvents} = this._visitDirective(\n            providerAst, dirAst, dirIndex, nodeIndex, ast.references, ast.queryMatches, usedEvents,\n            this.staticQueryIds.get( /** @type {?} */((<any>ast))));\n        hostBindings.push(...dirHostBindings);\n        hostEvents.push(...dirHostEvents);\n      } else {\n        this._visitProvider(providerAst, ast.queryMatches);\n      }\n    });\n\n    let /** @type {?} */ queryMatchExprs: o.Expression[] = [];\n    ast.queryMatches.forEach((match) => {\n      let /** @type {?} */ valueType: number;\n      if (tokenReference(match.value) === resolveIdentifier(Identifiers.ElementRef)) {\n        valueType = viewEngine.QueryValueType.ElementRef;\n      } else if (tokenReference(match.value) === resolveIdentifier(Identifiers.ViewContainerRef)) {\n        valueType = viewEngine.QueryValueType.ViewContainerRef;\n      } else if (tokenReference(match.value) === resolveIdentifier(Identifiers.TemplateRef)) {\n        valueType = viewEngine.QueryValueType.TemplateRef;\n      }\n      if (valueType != null) {\n        queryMatchExprs.push(o.literalArr([o.literal(match.queryId), o.literal(valueType)]));\n      }\n    });\n    ast.references.forEach((ref) => {\n      let /** @type {?} */ valueType: number;\n      if (!ref.value) {\n        valueType = viewEngine.QueryValueType.RenderElement;\n      } else if (tokenReference(ref.value) === resolveIdentifier(Identifiers.TemplateRef)) {\n        valueType = viewEngine.QueryValueType.TemplateRef;\n      }\n      if (valueType != null) {\n        this.refNodeIndices[ref.name] = nodeIndex;\n        queryMatchExprs.push(o.literalArr([o.literal(ref.name), o.literal(valueType)]));\n      }\n    });\n    ast.outputs.forEach(\n        (outputAst) => { hostEvents.push({context: COMP_VAR, eventAst: outputAst}); });\n\n    return {\n      flags,\n      usedEvents: Array.from(usedEvents.values()),\n      queryMatchesExpr: queryMatchExprs.length ? o.literalArr(queryMatchExprs) : o.NULL_EXPR,\n      hostBindings,\n      hostEvents\n    };\n  }\n/**\n * @param {?} providerAst\n * @param {?} directiveAst\n * @param {?} directiveIndex\n * @param {?} elementNodeIndex\n * @param {?} refs\n * @param {?} queryMatches\n * @param {?} usedEvents\n * @param {?} queryIds\n * @return {?}\n */\nprivate _visitDirective(\n      providerAst: ProviderAst, directiveAst: DirectiveAst, directiveIndex: number,\n      elementNodeIndex: number, refs: ReferenceAst[], queryMatches: QueryMatch[],\n      usedEvents: Map<string, any>, queryIds: StaticAndDynamicQueryIds): {\n    hostBindings: {value: AST, context: o.Expression}[],\n    hostEvents: {context: o.Expression, eventAst: BoundEventAst}[]\n  } {\n    const /** @type {?} */ nodeIndex = this.nodeDefs.length;\n    // reserve the space in the nodeDefs array so we can add children\n    this.nodeDefs.push(null);\n\n    directiveAst.directive.queries.forEach((query, queryIndex) => {\n      let /** @type {?} */ flags = viewEngine.NodeFlags.HasContentQuery;\n      const /** @type {?} */ queryId = directiveAst.contentQueryStartId + queryIndex;\n      if (queryIds.staticQueryIds.has(queryId)) {\n        flags |= viewEngine.NodeFlags.HasStaticQuery;\n      } else {\n        flags |= viewEngine.NodeFlags.HasDynamicQuery;\n      }\n      const /** @type {?} */ bindingType =\n          query.first ? viewEngine.QueryBindingType.First : viewEngine.QueryBindingType.All;\n      this.nodeDefs.push(() => o.importExpr(createIdentifier(Identifiers.queryDef)).callFn([\n        o.literal(flags), o.literal(queryId),\n        new o.LiteralMapExpr([new o.LiteralMapEntry(query.propertyName, o.literal(bindingType))])\n      ]));\n    });\n\n    // Note: the operation below might also create new nodeDefs,\n    // but we don't want them to be a child of a directive,\n    // as they might be a provider/pipe on their own.\n    // I.e. we only allow queries as children of directives nodes.\n    const /** @type {?} */ childCount = this.nodeDefs.length - nodeIndex - 1;\n\n    const {flags, queryMatchExprs, providerExpr, providerType, depsExpr} =\n        this._visitProviderOrDirective(providerAst, queryMatches);\n\n    refs.forEach((ref) => {\n      if (ref.value && tokenReference(ref.value) === tokenReference(providerAst.token)) {\n        this.refNodeIndices[ref.name] = nodeIndex;\n        queryMatchExprs.push(\n            o.literalArr([o.literal(ref.name), o.literal(viewEngine.QueryValueType.Provider)]));\n      }\n    });\n\n    let /** @type {?} */ rendererType = o.NULL_EXPR;\n    let /** @type {?} */ compView = o.NULL_EXPR;\n    if (directiveAst.directive.isComponent) {\n      compView = o.importExpr({reference: directiveAst.directive.componentViewType});\n      rendererType = o.importExpr({reference: directiveAst.directive.rendererType});\n    }\n\n    const /** @type {?} */ inputDefs = directiveAst.inputs.map((inputAst, inputIndex) => {\n      const /** @type {?} */ mapValue = o.literalArr([o.literal(inputIndex), o.literal(inputAst.directiveName)]);\n      // Note: it's important to not quote the key so that we can capture renames by minifiers!\n      return new o.LiteralMapEntry(inputAst.directiveName, mapValue, false);\n    });\n\n    const /** @type {?} */ outputDefs: o.LiteralMapEntry[] = [];\n    const /** @type {?} */ dirMeta = directiveAst.directive;\n    Object.keys(dirMeta.outputs).forEach((propName) => {\n      const /** @type {?} */ eventName = dirMeta.outputs[propName];\n      if (usedEvents.has(eventName)) {\n        // Note: it's important to not quote the key so that we can capture renames by minifiers!\n        outputDefs.push(new o.LiteralMapEntry(propName, o.literal(eventName), false));\n      }\n    });\n    if (directiveAst.inputs.length ||\n        (flags & (viewEngine.NodeFlags.DoCheck | viewEngine.NodeFlags.OnInit)) > 0) {\n      this._addUpdateExpressions(\n          nodeIndex,\n          directiveAst.inputs.map((input) => { return {context: COMP_VAR, value: input.value}; }),\n          this.updateDirectivesExpressions);\n    }\n\n    const /** @type {?} */ dirContextExpr = o.importExpr(createIdentifier(Identifiers.nodeValue)).callFn([\n      VIEW_VAR, o.literal(nodeIndex)\n    ]);\n    const /** @type {?} */ hostBindings = directiveAst.hostProperties.map((hostBindingAst) => {\n      return {\n        value: ( /** @type {?} */((<ASTWithSource>hostBindingAst.value))).ast,\n        context: dirContextExpr,\n      };\n    });\n    const /** @type {?} */ hostEvents = directiveAst.hostEvents.map(\n        (hostEventAst) => { return {context: dirContextExpr, eventAst: hostEventAst}; });\n\n\n    // directiveDef(\n    //   flags: NodeFlags, matchedQueries: [string, QueryValueType][], childCount: number, ctor:\n    //   any,\n    //   deps: ([DepFlags, any] | any)[], props?: {[name: string]: [number, string]},\n    //   outputs?: {[name: string]: string}, component?: () => ViewDefinition): NodeDef;\n    const /** @type {?} */ nodeDef = () => o.importExpr(createIdentifier(Identifiers.directiveDef)).callFn([\n      o.literal(flags), queryMatchExprs.length ? o.literalArr(queryMatchExprs) : o.NULL_EXPR,\n      o.literal(childCount), providerExpr, depsExpr,\n      inputDefs.length ? new o.LiteralMapExpr(inputDefs) : o.NULL_EXPR,\n      outputDefs.length ? new o.LiteralMapExpr(outputDefs) : o.NULL_EXPR, compView, rendererType\n    ]);\n    this.nodeDefs[nodeIndex] = nodeDef;\n\n    return {hostBindings, hostEvents};\n  }\n/**\n * @param {?} providerAst\n * @param {?} queryMatches\n * @return {?}\n */\nprivate _visitProvider(providerAst: ProviderAst, queryMatches: QueryMatch[]): void {\n    const /** @type {?} */ nodeIndex = this.nodeDefs.length;\n    // reserve the space in the nodeDefs array so we can add children\n    this.nodeDefs.push(null);\n\n    const {flags, queryMatchExprs, providerExpr, providerType, depsExpr} =\n        this._visitProviderOrDirective(providerAst, queryMatches);\n\n    // providerDef(\n    //   flags: NodeFlags, matchedQueries: [string, QueryValueType][], type: ProviderType, token:\n    //   any,\n    //   value: any, deps: ([DepFlags, any] | any)[]): NodeDef;\n    const /** @type {?} */ nodeDef = () => o.importExpr(createIdentifier(Identifiers.providerDef)).callFn([\n      o.literal(flags), queryMatchExprs.length ? o.literalArr(queryMatchExprs) : o.NULL_EXPR,\n      o.literal(providerType), tokenExpr(providerAst.token), providerExpr, depsExpr\n    ]);\n    this.nodeDefs[nodeIndex] = nodeDef;\n  }\n/**\n * @param {?} providerAst\n * @param {?} queryMatches\n * @return {?}\n */\nprivate _visitProviderOrDirective(providerAst: ProviderAst, queryMatches: QueryMatch[]): {\n    flags: number,\n    queryMatchExprs: o.Expression[],\n    providerExpr: o.Expression,\n    providerType: number,\n    depsExpr: o.Expression\n  } {\n    let /** @type {?} */ flags = viewEngine.NodeFlags.None;\n    if (!providerAst.eager) {\n      flags |= viewEngine.NodeFlags.LazyProvider;\n    }\n    if (providerAst.providerType === ProviderAstType.PrivateService) {\n      flags |= viewEngine.NodeFlags.PrivateProvider;\n    }\n    providerAst.lifecycleHooks.forEach((lifecycleHook) => {\n      // for regular providers, we only support ngOnDestroy\n      if (lifecycleHook === LifecycleHooks.OnDestroy ||\n          providerAst.providerType === ProviderAstType.Directive ||\n          providerAst.providerType === ProviderAstType.Component) {\n        flags |= lifecycleHookToNodeFlag(lifecycleHook);\n      }\n    });\n    let /** @type {?} */ queryMatchExprs: o.Expression[] = [];\n\n    queryMatches.forEach((match) => {\n      if (tokenReference(match.value) === tokenReference(providerAst.token)) {\n        queryMatchExprs.push(o.literalArr(\n            [o.literal(match.queryId), o.literal(viewEngine.QueryValueType.Provider)]));\n      }\n    });\n    const {providerExpr, providerType, depsExpr} = providerDef(providerAst);\n    return {flags, queryMatchExprs, providerExpr, providerType, depsExpr};\n  }\n/**\n * @param {?} name\n * @return {?}\n */\ngetLocal(name: string): o.Expression {\n    if (name == EventHandlerVars.event.name) {\n      return EventHandlerVars.event;\n    }\n    let /** @type {?} */ currViewExpr: o.Expression = VIEW_VAR;\n    for (let /** @type {?} */ currBuilder: ViewBuilder = this; currBuilder;\n         currBuilder = currBuilder.parent, currViewExpr = currViewExpr.prop('parent')) {\n      // check references\n      const /** @type {?} */ refNodeIndex = currBuilder.refNodeIndices[name];\n      if (refNodeIndex != null) {\n        return o.importExpr(createIdentifier(Identifiers.nodeValue)).callFn([\n          currViewExpr, o.literal(refNodeIndex)\n        ]);\n      }\n\n      // check variables\n      const /** @type {?} */ varAst = currBuilder.variables.find((varAst) => varAst.name === name);\n      if (varAst) {\n        const /** @type {?} */ varValue = varAst.value || IMPLICIT_TEMPLATE_VAR;\n        return currViewExpr.prop('context').prop(varValue);\n      }\n    }\n    return null;\n  }\n/**\n * @param {?} argCount\n * @return {?}\n */\ncreateLiteralArrayConverter(argCount: number): BuiltinConverter {\n    if (argCount === 0) {\n      const /** @type {?} */ valueExpr = o.importExpr(createIdentifier(Identifiers.EMPTY_ARRAY));\n      return () => valueExpr;\n    }\n\n    const /** @type {?} */ nodeIndex = this.nodeDefs.length;\n    // pureArrayDef(argCount: number): NodeDef;\n    const /** @type {?} */ nodeDef = () =>\n        o.importExpr(createIdentifier(Identifiers.pureArrayDef)).callFn([o.literal(argCount)]);\n    this.nodeDefs.push(nodeDef);\n\n    return (args: o.Expression[]) => callCheckStmt(nodeIndex, args);\n  }\n/**\n * @param {?} keys\n * @return {?}\n */\ncreateLiteralMapConverter(keys: string[]): BuiltinConverter {\n    if (keys.length === 0) {\n      const /** @type {?} */ valueExpr = o.importExpr(createIdentifier(Identifiers.EMPTY_MAP));\n      return () => valueExpr;\n    }\n\n    const /** @type {?} */ nodeIndex = this.nodeDefs.length;\n    // function pureObjectDef(propertyNames: string[]): NodeDef\n    const /** @type {?} */ nodeDef = () =>\n        o.importExpr(createIdentifier(Identifiers.pureObjectDef)).callFn([o.literalArr(\n            keys.map(key => o.literal(key)))]);\n    this.nodeDefs.push(nodeDef);\n\n    return (args: o.Expression[]) => callCheckStmt(nodeIndex, args);\n  }\n/**\n * @param {?} name\n * @param {?} argCount\n * @return {?}\n */\ncreatePipeConverter(name: string, argCount: number): BuiltinConverter {\n    const /** @type {?} */ pipe = this._findPipe(name);\n    if (pipe.pure) {\n      const /** @type {?} */ nodeIndex = this.nodeDefs.length;\n      // function purePipeDef(argCount: number): NodeDef;\n      const /** @type {?} */ nodeDef = () =>\n          o.importExpr(createIdentifier(Identifiers.purePipeDef)).callFn([o.literal(argCount)]);\n      this.nodeDefs.push(nodeDef);\n\n      // find underlying pipe in the component view\n      let /** @type {?} */ compViewExpr: o.Expression = VIEW_VAR;\n      let /** @type {?} */ compBuilder: ViewBuilder = this;\n      while (compBuilder.parent) {\n        compBuilder = compBuilder.parent;\n        compViewExpr = compViewExpr.prop('parent');\n      }\n      const /** @type {?} */ pipeNodeIndex = compBuilder.purePipeNodeIndices[name];\n      const /** @type {?} */ pipeValueExpr: o.Expression =\n          o.importExpr(createIdentifier(Identifiers.nodeValue)).callFn([\n            compViewExpr, o.literal(pipeNodeIndex)\n          ]);\n\n      return (args: o.Expression[]) =>\n                 callUnwrapValue(callCheckStmt(nodeIndex, [pipeValueExpr].concat(args)));\n    } else {\n      const /** @type {?} */ nodeIndex = this._createPipe(pipe);\n      const /** @type {?} */ nodeValueExpr = o.importExpr(createIdentifier(Identifiers.nodeValue)).callFn([\n        VIEW_VAR, o.literal(nodeIndex)\n      ]);\n\n      return (args: o.Expression[]) => callUnwrapValue(nodeValueExpr.callMethod('transform', args));\n    }\n  }\n/**\n * @param {?} name\n * @return {?}\n */\nprivate _findPipe(name: string): CompilePipeSummary {\n    return this.usedPipes.find((pipeSummary) => pipeSummary.name === name);\n  }\n/**\n * @param {?} pipe\n * @return {?}\n */\nprivate _createPipe(pipe: CompilePipeSummary): number {\n    const /** @type {?} */ nodeIndex = this.nodeDefs.length;\n    let /** @type {?} */ flags = viewEngine.NodeFlags.None;\n    pipe.type.lifecycleHooks.forEach((lifecycleHook) => {\n      // for pipes, we only support ngOnDestroy\n      if (lifecycleHook === LifecycleHooks.OnDestroy) {\n        flags |= lifecycleHookToNodeFlag(lifecycleHook);\n      }\n    });\n\n    const /** @type {?} */ depExprs = pipe.type.diDeps.map(depDef);\n    // function pipeDef(\n    //   flags: NodeFlags, ctor: any, deps: ([DepFlags, any] | any)[]): NodeDef\n    const /** @type {?} */ nodeDef = () => o.importExpr(createIdentifier(Identifiers.pipeDef)).callFn([\n      o.literal(flags), o.importExpr(pipe.type), o.literalArr(depExprs)\n    ]);\n    this.nodeDefs.push(nodeDef);\n    return nodeIndex;\n  }\n/**\n * @param {?} nodeIndex\n * @param {?} expressions\n * @param {?} target\n * @return {?}\n */\nprivate _addUpdateExpressions(\n      nodeIndex: number, expressions: {context: o.Expression, value: AST}[],\n      target: UpdateExpression[]) {\n    const /** @type {?} */ transformedExpressions = expressions.map(({context, value}) => {\n      if (value instanceof ASTWithSource) {\n        value = value.ast;\n      }\n      return {context, value: convertPropertyBindingBuiltins(this, value)};\n    });\n    target.push({nodeIndex, expressions: transformedExpressions});\n  }\n/**\n * @param {?} nodeIndex\n * @param {?} handlers\n * @return {?}\n */\nprivate _createElementHandleEventFn(\n      nodeIndex: number, handlers: {context: o.Expression, eventAst: BoundEventAst}[]) {\n    const /** @type {?} */ handleEventStmts: o.Statement[] = [];\n    let /** @type {?} */ handleEventBindingCount = 0;\n    handlers.forEach(({context, eventAst}) => {\n      const /** @type {?} */ bindingId = `${handleEventBindingCount++}`;\n      const /** @type {?} */ nameResolver = context === COMP_VAR ? this : null;\n      const /** @type {?} */ expression =\n          eventAst.handler instanceof ASTWithSource ? eventAst.handler.ast : eventAst.handler;\n      const {stmts, allowDefault} =\n          convertActionBinding(nameResolver, context, expression, bindingId);\n      const /** @type {?} */ trueStmts = stmts;\n      if (allowDefault) {\n        trueStmts.push(ALLOW_DEFAULT_VAR.set(allowDefault.and(ALLOW_DEFAULT_VAR)).toStmt());\n      }\n      const /** @type {?} */ fullEventName = viewEngine.elementEventFullName(eventAst.target, eventAst.name);\n      handleEventStmts.push(\n          new o.IfStmt(o.literal(fullEventName).identical(EVENT_NAME_VAR), trueStmts));\n    });\n    let /** @type {?} */ handleEventFn: o.Expression;\n    if (handleEventStmts.length > 0) {\n      const /** @type {?} */ preStmts: o.Statement[] =\n          [ALLOW_DEFAULT_VAR.set(o.literal(true)).toDeclStmt(o.BOOL_TYPE)];\n      if (!this.component.isHost) {\n        preStmts.push(COMP_VAR.set(VIEW_VAR.prop('component')).toDeclStmt(this.compType));\n      }\n      handleEventFn = o.fn(\n          [\n            new o.FnParam(VIEW_VAR.name, o.INFERRED_TYPE),\n            new o.FnParam(EVENT_NAME_VAR.name, o.INFERRED_TYPE),\n            new o.FnParam(EventHandlerVars.event.name, o.INFERRED_TYPE)\n          ],\n          [...preStmts, ...handleEventStmts, new o.ReturnStatement(ALLOW_DEFAULT_VAR)],\n          o.INFERRED_TYPE);\n    } else {\n      handleEventFn = o.NULL_EXPR;\n    }\n    return handleEventFn;\n  }\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitDirective(ast: DirectiveAst, context: {usedEvents: Set<string>}): any {}\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitDirectiveProperty(ast: BoundDirectivePropertyAst, context: any): any {}\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitReference(ast: ReferenceAst, context: any): any {}\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitVariable(ast: VariableAst, context: any): any {}\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitEvent(ast: BoundEventAst, context: any): any {}\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitElementProperty(ast: BoundElementPropertyAst, context: any): any {}\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitAttr(ast: AttrAst, context: any): any {}\n}\n\nfunction ViewBuilder_tsickle_Closure_declarations() {\n/** @type {?} */\nViewBuilder.prototype.compType;\n/** @type {?} */\nViewBuilder.prototype.nodeDefs;\n/** @type {?} */\nViewBuilder.prototype.purePipeNodeIndices;\n/** @type {?} */\nViewBuilder.prototype.refNodeIndices;\n/** @type {?} */\nViewBuilder.prototype.variables;\n/** @type {?} */\nViewBuilder.prototype.children;\n/** @type {?} */\nViewBuilder.prototype.updateDirectivesExpressions;\n/** @type {?} */\nViewBuilder.prototype.updateRendererExpressions;\n/** @type {?} */\nViewBuilder.prototype.parent;\n/** @type {?} */\nViewBuilder.prototype.component;\n/** @type {?} */\nViewBuilder.prototype.embeddedViewIndex;\n/** @type {?} */\nViewBuilder.prototype.usedPipes;\n/** @type {?} */\nViewBuilder.prototype.staticQueryIds;\n/** @type {?} */\nViewBuilder.prototype.viewBuilderFactory;\n}\n\n/**\n * @param {?} providerAst\n * @return {?}\n */\nfunction providerDef(providerAst: ProviderAst):\n    {providerExpr: o.Expression, providerType: number, depsExpr: o.Expression} {\n  return providerAst.multiProvider ? multiProviderDef(providerAst.providers) :\n                                     singleProviderDef(providerAst.providers[0]);\n}\n/**\n * @param {?} providers\n * @return {?}\n */\nfunction multiProviderDef(providers: CompileProviderMetadata[]):\n    {providerExpr: o.Expression, providerType: number, depsExpr: o.Expression} {\n  const /** @type {?} */ allDepDefs: o.Expression[] = [];\n  const /** @type {?} */ allParams: o.FnParam[] = [];\n  const /** @type {?} */ exprs = providers.map((provider, providerIndex) => {\n    let /** @type {?} */ expr: o.Expression;\n    if (provider.useClass) {\n      const /** @type {?} */ depExprs = convertDeps(providerIndex, provider.deps || provider.useClass.diDeps);\n      expr = o.importExpr(provider.useClass).instantiate(depExprs);\n    } else if (provider.useFactory) {\n      const /** @type {?} */ depExprs = convertDeps(providerIndex, provider.deps || provider.useFactory.diDeps);\n      expr = o.importExpr(provider.useFactory).callFn(depExprs);\n    } else if (provider.useExisting) {\n      const /** @type {?} */ depExprs = convertDeps(providerIndex, [{token: provider.useExisting}]);\n      expr = depExprs[0];\n    } else {\n      expr = convertValueToOutputAst(provider.useValue);\n    }\n    return expr;\n  });\n  const /** @type {?} */ providerExpr =\n      o.fn(allParams, [new o.ReturnStatement(o.literalArr(exprs))], o.INFERRED_TYPE);\n  return {\n    providerExpr,\n    providerType: viewEngine.ProviderType.Factory,\n    depsExpr: o.literalArr(allDepDefs)\n  };\n/**\n * @param {?} providerIndex\n * @param {?} deps\n * @return {?}\n */\nfunction convertDeps(providerIndex: number, deps: CompileDiDependencyMetadata[]) {\n    return deps.map((dep, depIndex) => {\n      const /** @type {?} */ paramName = `p${providerIndex}_${depIndex}`;\n      allParams.push(new o.FnParam(paramName, o.DYNAMIC_TYPE));\n      allDepDefs.push(depDef(dep));\n      return o.variable(paramName);\n    });\n  }\n}\n/**\n * @param {?} providerMeta\n * @return {?}\n */\nfunction singleProviderDef(providerMeta: CompileProviderMetadata):\n    {providerExpr: o.Expression, providerType: number, depsExpr: o.Expression} {\n  let /** @type {?} */ providerExpr: o.Expression;\n  let /** @type {?} */ providerType: number;\n  let /** @type {?} */ deps: CompileDiDependencyMetadata[];\n  if (providerMeta.useClass) {\n    providerExpr = o.importExpr(providerMeta.useClass);\n    providerType = viewEngine.ProviderType.Class;\n    deps = providerMeta.deps || providerMeta.useClass.diDeps;\n  } else if (providerMeta.useFactory) {\n    providerExpr = o.importExpr(providerMeta.useFactory);\n    providerType = viewEngine.ProviderType.Factory;\n    deps = providerMeta.deps || providerMeta.useFactory.diDeps;\n  } else if (providerMeta.useExisting) {\n    providerExpr = o.NULL_EXPR;\n    providerType = viewEngine.ProviderType.UseExisting;\n    deps = [{token: providerMeta.useExisting}];\n  } else {\n    providerExpr = convertValueToOutputAst(providerMeta.useValue);\n    providerType = viewEngine.ProviderType.Value;\n    deps = [];\n  }\n  const /** @type {?} */ depsExpr = o.literalArr(deps.map(dep => depDef(dep)));\n  return {providerExpr, providerType, depsExpr};\n}\n/**\n * @param {?} tokenMeta\n * @return {?}\n */\nfunction tokenExpr(tokenMeta: CompileTokenMetadata): o.Expression {\n  return tokenMeta.identifier ? o.importExpr(tokenMeta.identifier) : o.literal(tokenMeta.value);\n}\n/**\n * @param {?} dep\n * @return {?}\n */\nfunction depDef(dep: CompileDiDependencyMetadata): o.Expression {\n  // Note: the following fields have already been normalized out by provider_analyzer:\n  // - isAttribute, isSelf, isHost\n  const /** @type {?} */ expr = dep.isValue ? convertValueToOutputAst(dep.value) : tokenExpr(dep.token);\n  let /** @type {?} */ flags = viewEngine.DepFlags.None;\n  if (dep.isSkipSelf) {\n    flags |= viewEngine.DepFlags.SkipSelf;\n  }\n  if (dep.isOptional) {\n    flags |= viewEngine.DepFlags.Optional;\n  }\n  if (dep.isValue) {\n    flags |= viewEngine.DepFlags.Value;\n  }\n  return flags === viewEngine.DepFlags.None ? expr : o.literalArr([o.literal(flags), expr]);\n}\n/**\n * @param {?} ast\n * @return {?}\n */\nfunction needsAdditionalRootNode(ast: TemplateAst): boolean {\n  if (ast instanceof EmbeddedTemplateAst) {\n    return ast.hasViewContainer;\n  }\n\n  if (ast instanceof ElementAst) {\n    if (ast.name === NG_CONTAINER_TAG && ast.children.length) {\n      return needsAdditionalRootNode(ast.children[ast.children.length - 1]);\n    }\n    return ast.hasViewContainer;\n  }\n\n  return ast instanceof NgContentAst;\n}\n/**\n * @param {?} lifecycleHook\n * @return {?}\n */\nfunction lifecycleHookToNodeFlag(lifecycleHook: LifecycleHooks): number {\n  let /** @type {?} */ nodeFlag = viewEngine.NodeFlags.None;\n  switch (lifecycleHook) {\n    case LifecycleHooks.AfterContentChecked:\n      nodeFlag = viewEngine.NodeFlags.AfterContentChecked;\n      break;\n    case LifecycleHooks.AfterContentInit:\n      nodeFlag = viewEngine.NodeFlags.AfterContentInit;\n      break;\n    case LifecycleHooks.AfterViewChecked:\n      nodeFlag = viewEngine.NodeFlags.AfterViewChecked;\n      break;\n    case LifecycleHooks.AfterViewInit:\n      nodeFlag = viewEngine.NodeFlags.AfterViewInit;\n      break;\n    case LifecycleHooks.DoCheck:\n      nodeFlag = viewEngine.NodeFlags.DoCheck;\n      break;\n    case LifecycleHooks.OnChanges:\n      nodeFlag = viewEngine.NodeFlags.OnChanges;\n      break;\n    case LifecycleHooks.OnDestroy:\n      nodeFlag = viewEngine.NodeFlags.OnDestroy;\n      break;\n    case LifecycleHooks.OnInit:\n      nodeFlag = viewEngine.NodeFlags.OnInit;\n      break;\n  }\n  return nodeFlag;\n}\n/**\n * @param {?} inputAsts\n * @return {?}\n */\nfunction elementBindingDefs(inputAsts: BoundElementPropertyAst[]): o.Expression[] {\n  return inputAsts.map((inputAst) => {\n    switch (inputAst.type) {\n      case PropertyBindingType.Attribute:\n        return o.literalArr([\n          o.literal(viewEngine.BindingType.ElementAttribute), o.literal(inputAst.name),\n          o.literal(inputAst.securityContext)\n        ]);\n      case PropertyBindingType.Property:\n        return o.literalArr([\n          o.literal(viewEngine.BindingType.ElementProperty), o.literal(inputAst.name),\n          o.literal(inputAst.securityContext)\n        ]);\n      case PropertyBindingType.Animation:\n        return o.literalArr([\n          o.literal(viewEngine.BindingType.ElementProperty), o.literal(inputAst.name),\n          o.literal(inputAst.securityContext)\n        ]);\n      case PropertyBindingType.Class:\n        return o.literalArr(\n            [o.literal(viewEngine.BindingType.ElementClass), o.literal(inputAst.name)]);\n      case PropertyBindingType.Style:\n        return o.literalArr([\n          o.literal(viewEngine.BindingType.ElementStyle), o.literal(inputAst.name),\n          o.literal(inputAst.unit)\n        ]);\n    }\n  });\n}\n/**\n * @param {?} elementAst\n * @return {?}\n */\nfunction fixedAttrsDef(elementAst: ElementAst): o.Expression {\n  const /** @type {?} */ mapResult: {[key: string]: string} = {};\n  elementAst.attrs.forEach(attrAst => { mapResult[attrAst.name] = attrAst.value; });\n  elementAst.directives.forEach(dirAst => {\n    Object.keys(dirAst.directive.hostAttributes).forEach(name => {\n      const /** @type {?} */ value = dirAst.directive.hostAttributes[name];\n      const /** @type {?} */ prevValue = mapResult[name];\n      mapResult[name] = prevValue != null ? mergeAttributeValue(name, prevValue, value) : value;\n    });\n  });\n  const /** @type {?} */ mapEntries: o.LiteralMapEntry[] = [];\n  // Note: We need to sort to get a defined output order\n  // for tests and for caching generated artifacts...\n  return o.literalArr(Object.keys(mapResult).sort().map(\n      (attrName) => o.literalArr([o.literal(attrName), o.literal(mapResult[attrName])])));\n}\n/**\n * @param {?} attrName\n * @param {?} attrValue1\n * @param {?} attrValue2\n * @return {?}\n */\nfunction mergeAttributeValue(attrName: string, attrValue1: string, attrValue2: string): string {\n  if (attrName == CLASS_ATTR || attrName == STYLE_ATTR) {\n    return `${attrValue1} ${attrValue2}`;\n  } else {\n    return attrValue2;\n  }\n}\n/**\n * @param {?} nodeIndex\n * @param {?} exprs\n * @return {?}\n */\nfunction callCheckStmt(nodeIndex: number, exprs: o.Expression[]): o.Expression {\n  if (exprs.length > 10) {\n    return CHECK_VAR.callFn([\n      VIEW_VAR, o.literal(nodeIndex), o.literal(viewEngine.ArgumentType.Dynamic),\n      o.literalArr(exprs)\n    ]);\n  } else {\n    return CHECK_VAR.callFn(\n        [VIEW_VAR, o.literal(nodeIndex), o.literal(viewEngine.ArgumentType.Inline), ...exprs]);\n  }\n}\n/**\n * @param {?} expr\n * @return {?}\n */\nfunction callUnwrapValue(expr: o.Expression): o.Expression {\n  return o.importExpr(createIdentifier(Identifiers.unwrapValue)).callFn([expr]);\n}\n\ninterface StaticAndDynamicQueryIds {\n  staticQueryIds: Set<number>;\n  dynamicQueryIds: Set<number>;\n}\n/**\n * @param {?} nodes\n * @param {?=} result\n * @return {?}\n */\nfunction findStaticQueryIds(\n    nodes: TemplateAst[], result = new Map<TemplateAst, StaticAndDynamicQueryIds>()):\n    Map<TemplateAst, StaticAndDynamicQueryIds> {\n  nodes.forEach((node) => {\n    const /** @type {?} */ staticQueryIds = new Set<number>();\n    const /** @type {?} */ dynamicQueryIds = new Set<number>();\n    let /** @type {?} */ queryMatches: QueryMatch[];\n    if (node instanceof ElementAst) {\n      findStaticQueryIds(node.children, result);\n      node.children.forEach((child) => {\n        const /** @type {?} */ childData = result.get(child);\n        childData.staticQueryIds.forEach(queryId => staticQueryIds.add(queryId));\n        childData.dynamicQueryIds.forEach(queryId => dynamicQueryIds.add(queryId));\n      });\n      queryMatches = node.queryMatches;\n    } else if (node instanceof EmbeddedTemplateAst) {\n      findStaticQueryIds(node.children, result);\n      node.children.forEach((child) => {\n        const /** @type {?} */ childData = result.get(child);\n        childData.staticQueryIds.forEach(queryId => dynamicQueryIds.add(queryId));\n        childData.dynamicQueryIds.forEach(queryId => dynamicQueryIds.add(queryId));\n      });\n      queryMatches = node.queryMatches;\n    }\n    if (queryMatches) {\n      queryMatches.forEach((match) => staticQueryIds.add(match.queryId));\n    }\n    dynamicQueryIds.forEach(queryId => staticQueryIds.delete(queryId));\n    result.set(node, {staticQueryIds, dynamicQueryIds});\n  });\n  return result;\n}\n/**\n * @param {?} nodeStaticQueryIds\n * @return {?}\n */\nfunction staticViewQueryIds(nodeStaticQueryIds: Map<TemplateAst, StaticAndDynamicQueryIds>):\n    StaticAndDynamicQueryIds {\n  const /** @type {?} */ staticQueryIds = new Set<number>();\n  const /** @type {?} */ dynamicQueryIds = new Set<number>();\n  Array.from(nodeStaticQueryIds.values()).forEach((entry) => {\n    entry.staticQueryIds.forEach(queryId => staticQueryIds.add(queryId));\n    entry.dynamicQueryIds.forEach(queryId => dynamicQueryIds.add(queryId));\n  });\n  dynamicQueryIds.forEach(queryId => staticQueryIds.delete(queryId));\n  return {staticQueryIds, dynamicQueryIds};\n}\n/**\n * @param {?} directives\n * @return {?}\n */\nfunction createComponentFactoryResolver(directives: DirectiveAst[]): ProviderAst {\n  const /** @type {?} */ componentDirMeta = directives.find(dirAst => dirAst.directive.isComponent);\n  if (componentDirMeta && componentDirMeta.directive.entryComponents.length) {\n    const /** @type {?} */ entryComponentFactories = componentDirMeta.directive.entryComponents.map(\n        (entryComponent) => o.importExpr({reference: entryComponent.componentFactory}));\n    const /** @type {?} */ cfrExpr = o.importExpr(createIdentifier(Identifiers.CodegenComponentFactoryResolver))\n                        .instantiate([o.literalArr(entryComponentFactories)]);\n    const /** @type {?} */ token = createIdentifierToken(Identifiers.ComponentFactoryResolver);\n    const /** @type {?} */ classMeta: CompileTypeMetadata = {\n      diDeps: [\n        {isValue: true, value: o.literalArr(entryComponentFactories)},\n        {token: token, isSkipSelf: true, isOptional: true}\n      ],\n      lifecycleHooks: [],\n      reference: resolveIdentifier(Identifiers.CodegenComponentFactoryResolver)\n    };\n    return new ProviderAst(\n        token, false, true, [{token, multi: false, useClass: classMeta}],\n        ProviderAstType.PrivateService, [], componentDirMeta.sourceSpan);\n  }\n  return null;\n}\n"]}