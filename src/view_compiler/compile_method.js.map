{"version":3,"sources":["../../../../../modules/@angular/compiler/src/view_compiler/compile_method.ts"],"names":[],"mappings":"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","file":"compile_method.js","sourceRoot":"","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport * as o from '../output/output_ast';\nimport {TemplateAst} from '../template_parser/template_ast';\n\nimport {CompileView} from './compile_view';\nclass _DebugState {\n/**\n * @param {?} nodeIndex\n * @param {?} sourceAst\n */\nconstructor(public nodeIndex: number,\npublic sourceAst: TemplateAst) {}\n}\n\nfunction _DebugState_tsickle_Closure_declarations() {\n/** @type {?} */\n_DebugState.prototype.nodeIndex;\n/** @type {?} */\n_DebugState.prototype.sourceAst;\n}\n\n\nconst /** @type {?} */ NULL_DEBUG_STATE = new _DebugState(null, null);\nexport class CompileMethod {\nprivate _newState: _DebugState = NULL_DEBUG_STATE;\nprivate _currState: _DebugState = NULL_DEBUG_STATE;\nprivate _debugEnabled: boolean;\nprivate _bodyStatements: o.Statement[] = [];\n/**\n * @param {?} _view\n */\nconstructor(private _view: CompileView) {\n    this._debugEnabled = this._view.genConfig.genDebugInfo;\n  }\n/**\n * @return {?}\n */\nprivate _updateDebugContextIfNeeded() {\n    if (this._newState.nodeIndex !== this._currState.nodeIndex ||\n        this._newState.sourceAst !== this._currState.sourceAst) {\n      const /** @type {?} */ expr = this._updateDebugContext(this._newState);\n      if (expr) {\n        this._bodyStatements.push(expr.toStmt());\n      }\n    }\n  }\n/**\n * @param {?} newState\n * @return {?}\n */\nprivate _updateDebugContext(newState: _DebugState): o.Expression {\n    this._currState = this._newState = newState;\n    if (this._debugEnabled) {\n      const /** @type {?} */ sourceLocation = newState.sourceAst ? newState.sourceAst.sourceSpan.start : null;\n\n      return o.THIS_EXPR.callMethod('debug', [\n        o.literal(newState.nodeIndex),\n        sourceLocation ? o.literal(sourceLocation.line) : o.NULL_EXPR,\n        sourceLocation ? o.literal(sourceLocation.col) : o.NULL_EXPR\n      ]);\n    } else {\n      return null;\n    }\n  }\n/**\n * @param {?} nodeIndex\n * @param {?} templateAst\n * @return {?}\n */\nresetDebugInfoExpr(nodeIndex: number, templateAst: TemplateAst): o.Expression {\n    const /** @type {?} */ res = this._updateDebugContext(new _DebugState(nodeIndex, templateAst));\n    return res || o.NULL_EXPR;\n  }\n/**\n * @param {?} nodeIndex\n * @param {?} templateAst\n * @return {?}\n */\nresetDebugInfo(nodeIndex: number, templateAst: TemplateAst) {\n    this._newState = new _DebugState(nodeIndex, templateAst);\n  }\n/**\n * @param {...?} stmts\n * @return {?}\n */\npush(...stmts: o.Statement[]) { this.addStmts(stmts); }\n/**\n * @param {?} stmt\n * @return {?}\n */\naddStmt(stmt: o.Statement) {\n    this._updateDebugContextIfNeeded();\n    this._bodyStatements.push(stmt);\n  }\n/**\n * @param {?} stmts\n * @return {?}\n */\naddStmts(stmts: o.Statement[]) {\n    this._updateDebugContextIfNeeded();\n    this._bodyStatements.push(...stmts);\n  }\n/**\n * @return {?}\n */\nfinish(): o.Statement[] { return this._bodyStatements; }\n/**\n * @return {?}\n */\nisEmpty(): boolean { return this._bodyStatements.length === 0; }\n}\n\nfunction CompileMethod_tsickle_Closure_declarations() {\n/** @type {?} */\nCompileMethod.prototype._newState;\n/** @type {?} */\nCompileMethod.prototype._currState;\n/** @type {?} */\nCompileMethod.prototype._debugEnabled;\n/** @type {?} */\nCompileMethod.prototype._bodyStatements;\n/** @type {?} */\nCompileMethod.prototype._view;\n}\n\n"]}