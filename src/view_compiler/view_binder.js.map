{"version":3,"sources":["../../../../../modules/@angular/compiler/src/view_compiler/view_binder.ts"],"names":[],"mappings":"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","file":"view_binder.js","sourceRoot":"","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {tokenReference} from '../compile_metadata';\nimport {ElementSchemaRegistry} from '../schema/element_schema_registry';\nimport {AttrAst, BoundDirectivePropertyAst, BoundElementPropertyAst, BoundEventAst, BoundTextAst, DirectiveAst, ElementAst, EmbeddedTemplateAst, NgContentAst, ReferenceAst, TemplateAst, TemplateAstVisitor, TextAst, VariableAst, templateVisitAll} from '../template_parser/template_ast';\n\nimport {CompileElement} from './compile_element';\nimport {CompileView} from './compile_view';\nimport {bindOutputs} from './event_binder';\nimport {bindDirectiveAfterContentLifecycleCallbacks, bindDirectiveAfterViewLifecycleCallbacks, bindDirectiveWrapperLifecycleCallbacks, bindInjectableDestroyLifecycleCallbacks, bindPipeDestroyLifecycleCallbacks} from './lifecycle_binder';\nimport {bindDirectiveHostProps, bindDirectiveInputs, bindRenderInputs, bindRenderText} from './property_binder';\nimport {bindQueryValues} from './query_binder';\n/**\n * @param {?} view\n * @param {?} parsedTemplate\n * @param {?} schemaRegistry\n * @return {?}\n */\nexport function bindView(\n    view: CompileView, parsedTemplate: TemplateAst[], schemaRegistry: ElementSchemaRegistry): void {\n  const /** @type {?} */ visitor = new ViewBinderVisitor(view, schemaRegistry);\n  templateVisitAll(visitor, parsedTemplate);\n  view.pipes.forEach(\n      (pipe) => { bindPipeDestroyLifecycleCallbacks(pipe.meta, pipe.instance, pipe.view); });\n}\nclass ViewBinderVisitor implements TemplateAstVisitor {\nprivate _nodeIndex: number = 0;\n/**\n * @param {?} view\n * @param {?} _schemaRegistry\n */\nconstructor(public view: CompileView,\nprivate _schemaRegistry: ElementSchemaRegistry) {}\n/**\n * @param {?} ast\n * @param {?} parent\n * @return {?}\n */\nvisitBoundText(ast: BoundTextAst, parent: CompileElement): any {\n    const /** @type {?} */ node = this.view.nodes[this._nodeIndex++];\n    bindRenderText(ast, node, this.view);\n    return null;\n  }\n/**\n * @param {?} ast\n * @param {?} parent\n * @return {?}\n */\nvisitText(ast: TextAst, parent: CompileElement): any {\n    this._nodeIndex++;\n    return null;\n  }\n/**\n * @param {?} ast\n * @param {?} parent\n * @return {?}\n */\nvisitNgContent(ast: NgContentAst, parent: CompileElement): any { return null; }\n/**\n * @param {?} ast\n * @param {?} parent\n * @return {?}\n */\nvisitElement(ast: ElementAst, parent: CompileElement): any {\n    const /** @type {?} */ compileElement = /** @type {?} */(( <CompileElement>this.view.nodes[this._nodeIndex++]));\n    bindQueryValues(compileElement);\n    const /** @type {?} */ hasEvents = bindOutputs(ast.outputs, ast.directives, compileElement, true);\n    bindRenderInputs(ast.inputs, ast.outputs, hasEvents, compileElement);\n    ast.directives.forEach((directiveAst, dirIndex) => {\n      const /** @type {?} */ directiveWrapperInstance =\n          compileElement.directiveWrapperInstance.get(directiveAst.directive.type.reference);\n      bindDirectiveInputs(directiveAst, directiveWrapperInstance, dirIndex, compileElement);\n      bindDirectiveHostProps(\n          directiveAst, directiveWrapperInstance, compileElement, ast.name, this._schemaRegistry);\n    });\n    templateVisitAll(this, ast.children, compileElement);\n    // afterContent and afterView lifecycles need to be called bottom up\n    // so that children are notified before parents\n    ast.directives.forEach((directiveAst) => {\n      const /** @type {?} */ directiveInstance = compileElement.instances.get(directiveAst.directive.type.reference);\n      const /** @type {?} */ directiveWrapperInstance =\n          compileElement.directiveWrapperInstance.get(directiveAst.directive.type.reference);\n      bindDirectiveAfterContentLifecycleCallbacks(\n          directiveAst.directive, directiveInstance, compileElement);\n      bindDirectiveAfterViewLifecycleCallbacks(\n          directiveAst.directive, directiveInstance, compileElement);\n      bindDirectiveWrapperLifecycleCallbacks(\n          directiveAst, directiveWrapperInstance, compileElement);\n    });\n    ast.providers.forEach((providerAst) => {\n      const /** @type {?} */ providerInstance = compileElement.instances.get(tokenReference(providerAst.token));\n      bindInjectableDestroyLifecycleCallbacks(providerAst, providerInstance, compileElement);\n    });\n    return null;\n  }\n/**\n * @param {?} ast\n * @param {?} parent\n * @return {?}\n */\nvisitEmbeddedTemplate(ast: EmbeddedTemplateAst, parent: CompileElement): any {\n    const /** @type {?} */ compileElement = /** @type {?} */(( <CompileElement>this.view.nodes[this._nodeIndex++]));\n    bindQueryValues(compileElement);\n    bindOutputs(ast.outputs, ast.directives, compileElement, false);\n    ast.directives.forEach((directiveAst, dirIndex) => {\n      const /** @type {?} */ directiveInstance = compileElement.instances.get(directiveAst.directive.type.reference);\n      const /** @type {?} */ directiveWrapperInstance =\n          compileElement.directiveWrapperInstance.get(directiveAst.directive.type.reference);\n      bindDirectiveInputs(directiveAst, directiveWrapperInstance, dirIndex, compileElement);\n\n      bindDirectiveAfterContentLifecycleCallbacks(\n          directiveAst.directive, directiveInstance, compileElement);\n      bindDirectiveAfterViewLifecycleCallbacks(\n          directiveAst.directive, directiveInstance, compileElement);\n      bindDirectiveWrapperLifecycleCallbacks(\n          directiveAst, directiveWrapperInstance, compileElement);\n    });\n    ast.providers.forEach((providerAst) => {\n      const /** @type {?} */ providerInstance = compileElement.instances.get(tokenReference(providerAst.token));\n      bindInjectableDestroyLifecycleCallbacks(providerAst, providerInstance, compileElement);\n    });\n    bindView(compileElement.embeddedView, ast.children, this._schemaRegistry);\n    return null;\n  }\n/**\n * @param {?} ast\n * @param {?} ctx\n * @return {?}\n */\nvisitAttr(ast: AttrAst, ctx: any): any { return null; }\n/**\n * @param {?} ast\n * @param {?} ctx\n * @return {?}\n */\nvisitDirective(ast: DirectiveAst, ctx: any): any { return null; }\n/**\n * @param {?} ast\n * @param {?} eventTargetAndNames\n * @return {?}\n */\nvisitEvent(ast: BoundEventAst, eventTargetAndNames: Map<string, BoundEventAst>): any {\n    return null;\n  }\n/**\n * @param {?} ast\n * @param {?} ctx\n * @return {?}\n */\nvisitReference(ast: ReferenceAst, ctx: any): any { return null; }\n/**\n * @param {?} ast\n * @param {?} ctx\n * @return {?}\n */\nvisitVariable(ast: VariableAst, ctx: any): any { return null; }\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitDirectiveProperty(ast: BoundDirectivePropertyAst, context: any): any { return null; }\n/**\n * @param {?} ast\n * @param {?} context\n * @return {?}\n */\nvisitElementProperty(ast: BoundElementPropertyAst, context: any): any { return null; }\n}\n\nfunction ViewBinderVisitor_tsickle_Closure_declarations() {\n/** @type {?} */\nViewBinderVisitor.prototype._nodeIndex;\n/** @type {?} */\nViewBinderVisitor.prototype.view;\n/** @type {?} */\nViewBinderVisitor.prototype._schemaRegistry;\n}\n\n"]}